<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Nike Rocket - Automated Kraken Futures Trading with Live Execution. 10% profit sharing, no monthly fees. Start with $500+.">
    <title>Nike Rocket - Sign Up for Live Trading</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 500px;
            width: 100%;
            padding: 40px;
        }

        .logo {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo h1 {
            font-size: 32px;
            color: #667eea;
            margin-bottom: 10px;
        }

        .logo p {
            color: #666;
            font-size: 16px;
        }

        .form-section {
            margin-bottom: 30px;
        }

        .form-section h2 {
            font-size: 24px;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .input-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .result-section {
            display: none;
            margin-top: 30px;
            padding: 25px;
            background: #f0f7ff;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .result-section.show {
            display: block;
        }

        .result-section h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 20px;
        }

        .email-highlight {
            background: white;
            padding: 12px;
            border-radius: 6px;
            border: 1px solid #667eea;
            margin: 15px 0;
            text-align: center;
            font-weight: 600;
            color: #667eea;
        }

        .info-box {
            background: #fef3c7;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #f59e0b;
        }

        .info-box p {
            color: #78350f;
            font-size: 14px;
            line-height: 1.6;
            margin: 0;
        }

        .setup-btn {
            display: inline-block;
            width: 100%;
            text-align: center;
            margin-top: 20px;
            padding: 15px 30px;
            background: #10b981;
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .setup-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(16, 185, 129, 0.4);
        }

        .error-message {
            color: #ef4444;
            background: #fee2e2;
            padding: 12px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
            font-size: 14px;
            border: 1px solid #fecaca;
        }

        .error-message.show {
            display: block;
        }

        .loading-spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .risk-disclosure {
            margin-top: 30px;
            padding: 20px;
            background: #f9fafb;
            border-radius: 10px;
            border: 1px solid #e5e7eb;
            font-size: 12px;
            color: #666;
            line-height: 1.6;
        }

        .risk-disclosure h4 {
            color: #333;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .risk-disclosure p {
            margin-bottom: 8px;
        }

        .risk-disclosure p:last-child {
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <h1>üöÄ Nike Rocket</h1>
            <p>Automated Kraken Futures Trading</p>
        </div>

        <div class="form-section">
            <h2>Start Trading Today</h2>
            
            <div class="input-group">
                <label for="email">Email Address</label>
                <input type="email" id="email" placeholder="your@email.com" required>
            </div>

            <button class="btn" onclick="signup()">
                <span id="btn-text">Create Free Account</span>
                <span id="btn-loading" class="loading-spinner"></span>
            </button>

            <div id="error-message" class="error-message"></div>
        </div>

        <div id="result-section" class="result-section"></div>

        <div class="risk-disclosure">
            <h4>‚ö†Ô∏è Risk Disclosure</h4>
            <p>
                <strong>Cryptocurrency futures trading involves substantial risk of loss and is not suitable for all investors.</strong> You could lose your entire investment. Leverage amplifies both gains and losses. Past performance does not guarantee future results.
            </p>
            <p>
                Nike Rocket is not a financial advisor and does not provide investment advice. This service executes automated trades based on algorithmic signals. You are solely responsible for your trading decisions and any resulting profits or losses.
            </p>
            <p>
                By signing up, you acknowledge that you understand these risks and agree to the terms of service. Only trade with capital you can afford to lose completely.
            </p>
        </div>
    </div>

    <script>
        async function signup() {
            const email = document.getElementById('email').value;
            const btn = document.querySelector('.btn');
            const btnText = document.getElementById('btn-text');
            const btnLoading = document.getElementById('btn-loading');
            const errorMessage = document.getElementById('error-message');
            const resultSection = document.getElementById('result-section');

            // Validate email
            if (!email || !email.includes('@')) {
                errorMessage.textContent = 'Please enter a valid email address';
                errorMessage.classList.add('show');
                return;
            }

            // Hide error, show loading
            errorMessage.classList.remove('show');
            btn.disabled = true;
            btnText.style.display = 'none';
            btnLoading.style.display = 'inline-block';

            try {
                // Call API
                const response = await fetch('/api/users/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ email: email })
                });

                const data = await response.json();

                if (response.ok && data.status === 'success') {
                    // NEW USER - API key sent via email (SECURE!)
                    resultSection.innerHTML = `
                        <h3>‚úÖ Check Your Email!</h3>
                        <p style="color: #666; margin: 15px 0;">
                            We've sent your API key and setup instructions to:
                        </p>
                        <div class="email-highlight">${email}</div>
                        
                        <div class="info-box">
                            <p>
                                üìß <strong>Check your inbox</strong> for an email from Nike Rocket with your API key and a link to set up your trading agent.
                            </p>
                        </div>

                        <p style="font-size: 14px; color: #666; text-align: center; margin-top: 20px;">
                            Don't see the email? Check your spam folder or wait a minute and try again.
                        </p>
                    `;
                    resultSection.classList.add('show');
                    document.querySelector('.form-section').style.display = 'none';
                    
                } else if (response.status === 400 && data.detail === 'Email already registered') {
                    // EXISTING USER - API key resent via email (SECURE!)
                    resultSection.innerHTML = `
                        <h3>‚úÖ API Key Sent to Your Email!</h3>
                        <p style="color: #666; margin: 15px 0;">
                            Your account already exists! We've sent your API key to:
                        </p>
                        <div class="email-highlight">${email}</div>
                        
                        <div class="info-box">
                            <p>
                                üìß <strong>Check your inbox</strong> for an email with your API key and setup instructions.
                            </p>
                        </div>

                        <p style="font-size: 14px; color: #666; text-align: center; margin-top: 20px;">
                            Don't see the email? Check your spam folder or contact support.
                        </p>
                    `;
                    resultSection.classList.add('show');
                    document.querySelector('.form-section').style.display = 'none';
                    
                } else {
                    // Show error
                    errorMessage.textContent = data.detail || data.message || 'Signup failed. Please try again.';
                    errorMessage.classList.add('show');
                }
            } catch (error) {
                console.error('Signup error:', error);
                errorMessage.textContent = 'Network error. Please check your connection and try again.';
                errorMessage.classList.add('show');
            } finally {
                // Reset button
                btn.disabled = false;
                btnText.style.display = 'inline';
                btnLoading.style.display = 'none';
            }
        }

        // Allow Enter key to submit
        document.getElementById('email').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                signup();
            }
        });
    </script>
</body>
</html>
